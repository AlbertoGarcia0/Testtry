{"ast":null,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _lodash = require('lodash');\n\nvar _item = require('./item');\n\nvar _item2 = _interopRequireDefault(_item);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar InfiniteGrid = function (_React$Component) {\n  _inherits(InfiniteGrid, _React$Component);\n\n  _createClass(InfiniteGrid, [{\n    key: 'initialState',\n    value: function initialState() {\n      return {\n        initiatedLazyload: false,\n        minHeight: window.innerHeight * 2,\n        minItemIndex: 0,\n        maxItemIndex: 100,\n        itemDimensions: {\n          height: this._itemHeight(),\n          width: this._itemHeight(),\n          gridWidth: 0,\n          itemsPerRow: 2\n        }\n      };\n    }\n  }], [{\n    key: 'propTypes',\n    get: function get() {\n      return {\n        itemClassName: _react2.default.PropTypes.string,\n        entries: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.object).isRequired,\n        height: _react2.default.PropTypes.number,\n        width: _react2.default.PropTypes.number,\n        padding: _react2.default.PropTypes.number,\n        wrapperHeight: _react2.default.PropTypes.number,\n        lazyCallback: _react2.default.PropTypes.func,\n        renderRangeCallback: _react2.default.PropTypes.func,\n        buffer: _react2.default.PropTypes.number\n      };\n    }\n  }]);\n\n  function InfiniteGrid(props) {\n    _classCallCheck(this, InfiniteGrid);\n\n    var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(InfiniteGrid).call(this, props));\n\n    _this2.state = _this2.initialState(); // bind the functions\n\n    _this2._scrollListener = _this2._scrollListener.bind(_this2);\n    _this2._updateItemDimensions = _this2._updateItemDimensions.bind(_this2);\n    _this2._resizeListener = _this2._resizeListener.bind(_this2);\n    _this2._visibleIndexes = _this2._visibleIndexes.bind(_this2);\n    return _this2;\n  } // METHODS\n\n\n  _createClass(InfiniteGrid, [{\n    key: '_wrapperStyle',\n    value: function _wrapperStyle() {\n      return {\n        maxHeight: this._getGridHeight(),\n        overflowY: 'scroll',\n        width: '100%',\n        height: this.props.wrapperHeight,\n        WebkitOverflowScrolling: true\n      };\n    }\n  }, {\n    key: '_gridStyle',\n    value: function _gridStyle() {\n      return {\n        position: 'relative',\n        marginTop: this.props.padding,\n        marginLeft: this.props.padding,\n        minHeight: this._getGridHeight()\n      };\n    }\n  }, {\n    key: '_getGridRect',\n    value: function _getGridRect() {\n      return this.refs.grid.getBoundingClientRect();\n    }\n  }, {\n    key: '_getGridHeight',\n    value: function _getGridHeight() {\n      return Math.floor(this.props.entries.length / this.state.itemDimensions.itemsPerRow) * this.state.itemDimensions.height;\n    }\n  }, {\n    key: '_getWrapperRect',\n    value: function _getWrapperRect() {\n      return this.refs.wrapper.getBoundingClientRect();\n    }\n  }, {\n    key: '_visibleIndexes',\n    value: function _visibleIndexes() {\n      var itemsPerRow = this._itemsPerRow(); // The number of rows that the user has scrolled past\n\n\n      var scrolledPast = this._scrolledPastRows() * itemsPerRow;\n      if (scrolledPast < 0) scrolledPast = 0; // If i have scrolled past 20 items, but 60 are visible on screen,\n      // we do not want to change the minimum\n\n      var min = scrolledPast - itemsPerRow;\n      if (min < 0) min = 0; // the maximum should be the number of items scrolled past, plus some\n      // buffer\n\n      var bufferRows = this._numVisibleRows() + this.props.buffer;\n      var max = scrolledPast + itemsPerRow * bufferRows;\n      if (max > this.props.entries.length) max = this.props.entries.length;\n      this.setState({\n        minItemIndex: min,\n        maxItemIndex: max\n      }, function () {\n        this._lazyCallback();\n      });\n    }\n  }, {\n    key: '_updateItemDimensions',\n    value: function _updateItemDimensions() {\n      this.setState({\n        itemDimensions: {\n          height: this._itemHeight(),\n          width: this._itemHeight(),\n          gridWidth: this._getGridRect().width,\n          itemsPerRow: this._itemsPerRow()\n        },\n        minHeight: this._totalRows()\n      });\n    }\n  }, {\n    key: '_itemsPerRow',\n    value: function _itemsPerRow() {\n      return Math.floor(this._getGridRect().width / this._itemWidth());\n    }\n  }, {\n    key: '_totalRows',\n    value: function _totalRows() {\n      var scrolledPastHeight = this.props.entries.length / this._itemsPerRow() * this._itemHeight();\n\n      if (scrolledPastHeight < 0) return 0;\n      return scrolledPastHeight;\n    }\n  }, {\n    key: '_scrolledPastRows',\n    value: function _scrolledPastRows() {\n      var rect = this._getGridRect();\n\n      var topScrollOffset = rect.height - rect.bottom;\n      return Math.floor(topScrollOffset / this._itemHeight());\n    }\n  }, {\n    key: '_itemHeight',\n    value: function _itemHeight() {\n      return this.props.height + 2 * this.props.padding;\n    }\n  }, {\n    key: '_itemWidth',\n    value: function _itemWidth() {\n      return this.props.width + 2 * this.props.padding;\n    }\n  }, {\n    key: '_numVisibleRows',\n    value: function _numVisibleRows() {\n      return Math.ceil(this._getWrapperRect().height / this._itemHeight());\n    }\n  }, {\n    key: '_lazyCallback',\n    value: function _lazyCallback() {\n      if (!this.state.initiatedLazyload && this.state.maxItemIndex === this.props.entries.length && this.props.lazyCallback) {\n        this.setState({\n          initiatedLazyload: true\n        });\n        this.props.lazyCallback(this.state.maxItemIndex);\n      }\n    } // LIFECYCLE\n\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      window.addEventListener('resize', this._resizeListener);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._updateItemDimensions();\n\n      this._visibleIndexes();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.entries.length > this.props.entries.length) {\n        this.setState({\n          initiatedLazyload: false\n        });\n      } // Update these all the time because entries may change on the fly.\n      // this._updateItemDimensions();\n\n\n      this._visibleIndexes();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (typeof this.props.renderRangeCallback === 'function') {\n        this.props.renderRangeCallback(this.state.minItemIndex, this.state.maxItemIndex);\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !(0, _lodash.isEqual)(this.state, nextState);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this._resizeListener);\n    } // LISTENERS\n\n  }, {\n    key: '_scrollListener',\n    value: function _scrollListener(event) {\n      var _this = this;\n\n      clearTimeout(this.scrollOffset);\n      this.scrollOffset = setTimeout(function () {\n        _this._visibleIndexes();\n      }, 10);\n    }\n  }, {\n    key: '_resizeListener',\n    value: function _resizeListener(event) {\n      if (!this.props.wrapperHeight) {\n        this.setState({\n          wrapperHeight: window.innerHeight\n        });\n      }\n\n      this._updateItemDimensions();\n\n      this._visibleIndexes();\n    } // RENDER\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var entries = []; // if no entries exist, there's nothing left to do\n\n      if (!this.props.entries.length) {\n        return null;\n      }\n\n      for (var i = this.state.minItemIndex; i <= this.state.maxItemIndex; i++) {\n        var entry = this.props.entries[i];\n\n        if (!entry) {\n          continue;\n        }\n\n        var itemProps = {\n          key: 'item-' + i,\n          index: i,\n          padding: this.props.padding,\n          dimensions: this.state.itemDimensions,\n          data: entry\n        };\n        entries.push(_react2.default.createElement(_item2.default, itemProps));\n      }\n\n      return _react2.default.createElement('div', {\n        className: 'infinite-grid-wrapper',\n        ref: 'wrapper',\n        onScroll: this._scrollListener,\n        style: this._wrapperStyle()\n      }, _react2.default.createElement('div', {\n        ref: 'grid',\n        className: 'infinite-grid',\n        style: this._gridStyle()\n      }, entries));\n    }\n  }]);\n\n  return InfiniteGrid;\n}(_react2.default.Component);\n\nexports.default = InfiniteGrid;\n;\nInfiniteGrid.defaultProps = {\n  buffer: 10,\n  padding: 10,\n  entries: [],\n  height: 250,\n  width: 250\n};","map":{"version":3,"sources":["/home/edulcorante/Escritorio/Workspace/REACT/testtry/node_modules/react-infinite-grid/dist/grid.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","exports","value","_react","require","_react2","_interopRequireDefault","_lodash","_item","_item2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","InfiniteGrid","_React$Component","initialState","initiatedLazyload","minHeight","window","innerHeight","minItemIndex","maxItemIndex","itemDimensions","height","_itemHeight","width","gridWidth","itemsPerRow","get","itemClassName","PropTypes","string","entries","arrayOf","object","isRequired","number","padding","wrapperHeight","lazyCallback","func","renderRangeCallback","buffer","_this2","getPrototypeOf","state","_scrollListener","bind","_updateItemDimensions","_resizeListener","_visibleIndexes","_wrapperStyle","maxHeight","_getGridHeight","overflowY","WebkitOverflowScrolling","_gridStyle","position","marginTop","marginLeft","_getGridRect","refs","grid","getBoundingClientRect","Math","floor","_getWrapperRect","wrapper","_itemsPerRow","scrolledPast","_scrolledPastRows","min","bufferRows","_numVisibleRows","max","setState","_lazyCallback","_totalRows","_itemWidth","scrolledPastHeight","rect","topScrollOffset","bottom","ceil","componentWillMount","addEventListener","componentDidMount","componentWillReceiveProps","nextProps","componentDidUpdate","prevProps","prevState","shouldComponentUpdate","nextState","isEqual","componentWillUnmount","removeEventListener","event","_this","clearTimeout","scrollOffset","setTimeout","render","entry","itemProps","index","dimensions","data","push","createElement","className","ref","onScroll","style","Component","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _lodash = require('lodash');\n\nvar _item = require('./item');\n\nvar _item2 = _interopRequireDefault(_item);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteGrid = (function (_React$Component) {\n\t_inherits(InfiniteGrid, _React$Component);\n\n\t_createClass(InfiniteGrid, [{\n\t\tkey: 'initialState',\n\t\tvalue: function initialState() {\n\t\t\treturn {\n\t\t\t\tinitiatedLazyload: false,\n\t\t\t\tminHeight: window.innerHeight * 2,\n\t\t\t\tminItemIndex: 0,\n\t\t\t\tmaxItemIndex: 100,\n\t\t\t\titemDimensions: {\n\t\t\t\t\theight: this._itemHeight(),\n\t\t\t\t\twidth: this._itemHeight(),\n\t\t\t\t\tgridWidth: 0,\n\t\t\t\t\titemsPerRow: 2\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}], [{\n\t\tkey: 'propTypes',\n\t\tget: function get() {\n\t\t\treturn {\n\t\t\t\titemClassName: _react2.default.PropTypes.string,\n\t\t\t\tentries: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.object).isRequired,\n\t\t\t\theight: _react2.default.PropTypes.number,\n\t\t\t\twidth: _react2.default.PropTypes.number,\n\t\t\t\tpadding: _react2.default.PropTypes.number,\n\t\t\t\twrapperHeight: _react2.default.PropTypes.number,\n\t\t\t\tlazyCallback: _react2.default.PropTypes.func,\n\t\t\t\trenderRangeCallback: _react2.default.PropTypes.func,\n\t\t\t\tbuffer: _react2.default.PropTypes.number\n\t\t\t};\n\t\t}\n\t}]);\n\n\tfunction InfiniteGrid(props) {\n\t\t_classCallCheck(this, InfiniteGrid);\n\n\t\tvar _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(InfiniteGrid).call(this, props));\n\n\t\t_this2.state = _this2.initialState();\n\t\t// bind the functions\n\t\t_this2._scrollListener = _this2._scrollListener.bind(_this2);\n\t\t_this2._updateItemDimensions = _this2._updateItemDimensions.bind(_this2);\n\t\t_this2._resizeListener = _this2._resizeListener.bind(_this2);\n\t\t_this2._visibleIndexes = _this2._visibleIndexes.bind(_this2);\n\t\treturn _this2;\n\t}\n\n\t// METHODS\n\n\t_createClass(InfiniteGrid, [{\n\t\tkey: '_wrapperStyle',\n\t\tvalue: function _wrapperStyle() {\n\t\t\treturn {\n\t\t\t\tmaxHeight: this._getGridHeight(),\n\t\t\t\toverflowY: 'scroll',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: this.props.wrapperHeight,\n\t\t\t\tWebkitOverflowScrolling: true\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: '_gridStyle',\n\t\tvalue: function _gridStyle() {\n\t\t\treturn {\n\t\t\t\tposition: 'relative',\n\t\t\t\tmarginTop: this.props.padding,\n\t\t\t\tmarginLeft: this.props.padding,\n\t\t\t\tminHeight: this._getGridHeight()\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: '_getGridRect',\n\t\tvalue: function _getGridRect() {\n\t\t\treturn this.refs.grid.getBoundingClientRect();\n\t\t}\n\t}, {\n\t\tkey: '_getGridHeight',\n\t\tvalue: function _getGridHeight() {\n\t\t\treturn Math.floor(this.props.entries.length / this.state.itemDimensions.itemsPerRow) * this.state.itemDimensions.height;\n\t\t}\n\t}, {\n\t\tkey: '_getWrapperRect',\n\t\tvalue: function _getWrapperRect() {\n\t\t\treturn this.refs.wrapper.getBoundingClientRect();\n\t\t}\n\t}, {\n\t\tkey: '_visibleIndexes',\n\t\tvalue: function _visibleIndexes() {\n\t\t\tvar itemsPerRow = this._itemsPerRow();\n\n\t\t\t// The number of rows that the user has scrolled past\n\t\t\tvar scrolledPast = this._scrolledPastRows() * itemsPerRow;\n\t\t\tif (scrolledPast < 0) scrolledPast = 0;\n\n\t\t\t// If i have scrolled past 20 items, but 60 are visible on screen,\n\t\t\t// we do not want to change the minimum\n\t\t\tvar min = scrolledPast - itemsPerRow;\n\t\t\tif (min < 0) min = 0;\n\n\t\t\t// the maximum should be the number of items scrolled past, plus some\n\t\t\t// buffer\n\t\t\tvar bufferRows = this._numVisibleRows() + this.props.buffer;\n\t\t\tvar max = scrolledPast + itemsPerRow * bufferRows;\n\t\t\tif (max > this.props.entries.length) max = this.props.entries.length;\n\n\t\t\tthis.setState({\n\t\t\t\tminItemIndex: min,\n\t\t\t\tmaxItemIndex: max\n\t\t\t}, function () {\n\t\t\t\tthis._lazyCallback();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_updateItemDimensions',\n\t\tvalue: function _updateItemDimensions() {\n\t\t\tthis.setState({\n\t\t\t\titemDimensions: {\n\t\t\t\t\theight: this._itemHeight(),\n\t\t\t\t\twidth: this._itemHeight(),\n\t\t\t\t\tgridWidth: this._getGridRect().width,\n\t\t\t\t\titemsPerRow: this._itemsPerRow()\n\t\t\t\t},\n\t\t\t\tminHeight: this._totalRows()\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_itemsPerRow',\n\t\tvalue: function _itemsPerRow() {\n\t\t\treturn Math.floor(this._getGridRect().width / this._itemWidth());\n\t\t}\n\t}, {\n\t\tkey: '_totalRows',\n\t\tvalue: function _totalRows() {\n\t\t\tvar scrolledPastHeight = this.props.entries.length / this._itemsPerRow() * this._itemHeight();\n\t\t\tif (scrolledPastHeight < 0) return 0;\n\t\t\treturn scrolledPastHeight;\n\t\t}\n\t}, {\n\t\tkey: '_scrolledPastRows',\n\t\tvalue: function _scrolledPastRows() {\n\t\t\tvar rect = this._getGridRect();\n\t\t\tvar topScrollOffset = rect.height - rect.bottom;\n\t\t\treturn Math.floor(topScrollOffset / this._itemHeight());\n\t\t}\n\t}, {\n\t\tkey: '_itemHeight',\n\t\tvalue: function _itemHeight() {\n\t\t\treturn this.props.height + 2 * this.props.padding;\n\t\t}\n\t}, {\n\t\tkey: '_itemWidth',\n\t\tvalue: function _itemWidth() {\n\t\t\treturn this.props.width + 2 * this.props.padding;\n\t\t}\n\t}, {\n\t\tkey: '_numVisibleRows',\n\t\tvalue: function _numVisibleRows() {\n\t\t\treturn Math.ceil(this._getWrapperRect().height / this._itemHeight());\n\t\t}\n\t}, {\n\t\tkey: '_lazyCallback',\n\t\tvalue: function _lazyCallback() {\n\t\t\tif (!this.state.initiatedLazyload && this.state.maxItemIndex === this.props.entries.length && this.props.lazyCallback) {\n\t\t\t\tthis.setState({ initiatedLazyload: true });\n\t\t\t\tthis.props.lazyCallback(this.state.maxItemIndex);\n\t\t\t}\n\t\t}\n\n\t\t// LIFECYCLE\n\n\t}, {\n\t\tkey: 'componentWillMount',\n\t\tvalue: function componentWillMount() {\n\t\t\twindow.addEventListener('resize', this._resizeListener);\n\t\t}\n\t}, {\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tthis._updateItemDimensions();\n\t\t\tthis._visibleIndexes();\n\t\t}\n\t}, {\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function componentWillReceiveProps(nextProps) {\n\t\t\tif (nextProps.entries.length > this.props.entries.length) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tinitiatedLazyload: false\n\t\t\t\t});\n\t\t\t}\n\t\t\t// Update these all the time because entries may change on the fly.\n\t\t\t// this._updateItemDimensions();\n\t\t\tthis._visibleIndexes();\n\t\t}\n\t}, {\n\t\tkey: 'componentDidUpdate',\n\t\tvalue: function componentDidUpdate(prevProps, prevState) {\n\t\t\tif (typeof this.props.renderRangeCallback === 'function') {\n\t\t\t\tthis.props.renderRangeCallback(this.state.minItemIndex, this.state.maxItemIndex);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'shouldComponentUpdate',\n\t\tvalue: function shouldComponentUpdate(nextProps, nextState) {\n\t\t\treturn !(0, _lodash.isEqual)(this.state, nextState);\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\twindow.removeEventListener('resize', this._resizeListener);\n\t\t}\n\n\t\t// LISTENERS\n\n\t}, {\n\t\tkey: '_scrollListener',\n\t\tvalue: function _scrollListener(event) {\n\t\t\tvar _this = this;\n\n\t\t\tclearTimeout(this.scrollOffset);\n\t\t\tthis.scrollOffset = setTimeout(function () {\n\t\t\t\t_this._visibleIndexes();\n\t\t\t}, 10);\n\t\t}\n\t}, {\n\t\tkey: '_resizeListener',\n\t\tvalue: function _resizeListener(event) {\n\t\t\tif (!this.props.wrapperHeight) {\n\t\t\t\tthis.setState({\n\t\t\t\t\twrapperHeight: window.innerHeight\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._updateItemDimensions();\n\t\t\tthis._visibleIndexes();\n\t\t}\n\n\t\t// RENDER\n\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar entries = [];\n\n\t\t\t// if no entries exist, there's nothing left to do\n\t\t\tif (!this.props.entries.length) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tfor (var i = this.state.minItemIndex; i <= this.state.maxItemIndex; i++) {\n\t\t\t\tvar entry = this.props.entries[i];\n\t\t\t\tif (!entry) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar itemProps = {\n\t\t\t\t\tkey: 'item-' + i,\n\t\t\t\t\tindex: i,\n\t\t\t\t\tpadding: this.props.padding,\n\t\t\t\t\tdimensions: this.state.itemDimensions,\n\t\t\t\t\tdata: entry\n\t\t\t\t};\n\t\t\t\tentries.push(_react2.default.createElement(_item2.default, itemProps));\n\t\t\t}\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'infinite-grid-wrapper', ref: 'wrapper', onScroll: this._scrollListener, style: this._wrapperStyle() },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ ref: 'grid', className: 'infinite-grid', style: this._gridStyle() },\n\t\t\t\t\tentries\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn InfiniteGrid;\n})(_react2.default.Component);\n\nexports.default = InfiniteGrid;\n;\n\nInfiniteGrid.defaultProps = {\n\tbuffer: 10,\n\tpadding: 10,\n\tentries: [],\n\theight: 250,\n\twidth: 250\n};"]},"metadata":{},"sourceType":"script"}